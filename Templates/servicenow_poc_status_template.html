<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ServiceNow POC Status – Compact V3.1 (1080p, status-colored header)</title>

<!--
LLM/Agent usage:
- Replace tokens {{...}} and generate <tr> rows for the tbody IDs.
- Set the <body> class to "status-{{OVERALL_STATUS}}", where OVERALL_STATUS is green | yellow | red.
- Optional: also add "dense" to <body> to fit extra-long content, e.g. class="status-red dense".
-->

<style>
  :root{
    --sn-green:#00a76c;
    --sn-yellow:#f5c518;
    --sn-red:#ff4d4f;
    --sn-bg:#0b2030;
    --sn-surface:#112c41;
    --sn-surface-2:#0e2637;
    --sn-text:#e6f0f0;
    --sn-muted:#9fb3c8;

    --w:1920px;
    --h:1080px;
    --scale: calc(min(100vw / var(--w), 100vh / var(--h)));

    /* Default status color; overridden by body class */
    --status-color: var(--sn-green);
  }
  body.status-green{ --status-color: var(--sn-green); }
  body.status-yellow{ --status-color: var(--sn-yellow); }
  body.status-red{ --status-color: var(--sn-red); }

  html,body{height:100%;margin:0}
  body{
    font: 14px/1.5 Inter, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    color:var(--sn-text);
    background: radial-gradient(1700px 900px at 20% -10%, #11354f, transparent),
                radial-gradient(1200px 700px at 100% 0%, #0e2840, transparent),
                var(--sn-bg);
    display:flex;align-items:center;justify-content:center;
  }
  body.dense{font-size:13px}
  .canvas{
    width:var(--w);height:var(--h);
    transform:scale(var(--scale));
    transform-origin: top left;
    box-shadow:0 30px 70px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.06);
    border-radius:16px;
    overflow:hidden;
    border:1px solid #143248;
    background: linear-gradient(180deg, var(--sn-surface), var(--sn-surface-2));
  }
  .brand-bar{height:5px;background:linear-gradient(90deg,var(--status-color), rgba(77,243,183,.35))}
  header{
    display:flex;align-items:center;gap:14px;
    padding:14px 20px;border-bottom:1px solid #143248;
    background: linear-gradient(90deg, color-mix(in srgb, var(--status-color) 25%, transparent), transparent 60%);
  }
  .sn-dot{width:12px;height:12px;border-radius:12px;background:var(--status-color);box-shadow:0 0 16px color-mix(in srgb, var(--status-color) 80%, transparent)}
  .title{font-size:22px;font-weight:700}
  .meta{margin-left:auto;color:var(--sn-muted);font-size:13px}

  /* Layout adjustments to avoid clipping */
  .grid{
    display:grid;
    grid-template-columns: 2.5fr 1.5fr 1.4fr;
    grid-template-rows: auto 1.4fr 1.25fr 1.2fr; /* more space for middle+bottom rows */
    grid-template-areas:
      "status glance glance"
      "risks  risks  actions"
      "milest metrics actions"
      "decdep decdep escal";
    gap:14px;
    padding:14px 18px 18px;
    height:calc(var(--h) - 75px);
    box-sizing:border-box;
  }
  .card{
    border:1px solid #143248;border-radius:14px;overflow:hidden;
    background:rgba(255,255,255,.02);
  }
  .section{padding:10px 12px}
  .section h3{margin:0 0 6px;font-size:13px;text-transform:uppercase;letter-spacing:.7px;color:#d7e6eb}
  .callout{border-left:5px solid var(--status-color);background:rgba(0,0,0,.14);padding:10px 12px;border-radius:10px}
  .badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;font-weight:600;font-size:13px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04)}
  .status-dot{width:12px;height:12px;border-radius:50%}
  .green{background:var(--sn-green)} .yellow{background:var(--sn-yellow)} .red{background:var(--sn-red)}

  /* Tighter table spacing to fit more lines without clipping */
  table{width:100%;border-collapse:separate;border-spacing:0;border:1px solid #143248;border-radius:12px;overflow:hidden;font-size:12.5px;table-layout:fixed}
  th,td{padding:6px 8px;text-align:left;vertical-align:top;overflow-wrap:anywhere;word-break:normal}
  th{background:#133149;color:#e8f2f6;font-size:11.5px;letter-spacing:.5px}
  tr:nth-child(even) td{background:rgba(255,255,255,.02)}
  .pill{padding:2px 8px;border-radius:999px;font-size:11.5px;font-weight:600;border:1px solid rgba(255,255,255,.18);white-space:nowrap}
  .pill.on-track{background:rgba(0,167,108,.15);border-color:rgba(0,167,108,.35)}
  .pill.at-risk{background:rgba(245,197,24,.18);border-color:rgba(245,197,24,.35)}
  .pill.slipped{background:rgba(255,77,79,.18);border-color:rgba(255,77,79,.35)}

  /* Areas */
  .area-status{grid-area:status}
  .area-glance{grid-area:glance}
  .area-risks{grid-area:risks}
  .area-actions{grid-area:actions}
  .area-milest{grid-area:milest}
  .area-metrics{grid-area:metrics}
  .area-decdep{grid-area:decdep}
  .area-escal{grid-area:escal}

  /* Key-value look for glance */
  .kv td:first-child{width:30%;font-weight:700;background:#0f2a3e}

  /* Column widths tuned for less wrapping */
  colgroup.risks col:nth-child(1){width:32%}
  colgroup.risks col:nth-child(2){width:8%}
  colgroup.risks col:nth-child(3){width:36%}  /* mitigation wide */
  colgroup.risks col:nth-child(4){width:10%}
  colgroup.risks col:nth-child(5){width:8%}
  colgroup.risks col:nth-child(6){width:6%}

  colgroup.actions col:nth-child(1){width:56%}
  colgroup.actions col:nth-child(2){width:16%}
  colgroup.actions col:nth-child(3){width:12%}
  colgroup.actions col:nth-child(4){width:16%}

  colgroup.milestones col:nth-child(1){width:48%}
  colgroup.milestones col:nth-child(2){width:16%}
  colgroup.milestones col:nth-child(3){width:16%}
  colgroup.milestones col:nth-child(4){width:20%}

  colgroup.metrics col:nth-child(1){width:28%}
  colgroup.metrics col:nth-child(2){width:18%}
  colgroup.metrics col:nth-child(3){width:18%}
  colgroup.metrics col:nth-child(4){width:36%} /* more width for note to reduce wrap */
  
  colgroup.decisions col:nth-child(1){width:80%}
  colgroup.decisions col:nth-child(2){width:20%}

  colgroup.deps col:nth-child(1){width:74%}
  colgroup.deps col:nth-child(2){width:26%}
</style>
</head>
<!-- Set status class here: status-green | status-yellow | status-red; add 'dense' for extra content -->
<body class="status-{{OVERALL_STATUS}} {{BODY_DENSITY}}">
  <div class="canvas">
    <div class="brand-bar"></div>
    <header>
      <div class="sn-dot"></div>
      <div class="title">POC Update – {{PROJECT_NAME}}</div>
      <div class="meta">Period: <strong>{{PERIOD}}</strong> • Report: <strong>{{REPORT_DATE}}</strong> • Owner: <strong>{{OWNER}}</strong></div>
    </header>

    <div class="grid">
      <!-- Overall status & summary -->
      <div class="card area-status">
        <div class="section">
          <h3>Overall Status</h3>
          <span class="badge">
            <span class="status-dot {{OVERALL_STATUS}}"></span>
            <span id="overall_status_text">{{OVERALL_STATUS_TEXT}}</span>
          </span>
          <div class="callout" style="margin-top:10px">
            <strong>Executive Summary</strong>
            <div id="exec_summary">{{EXECUTIVE_SUMMARY}}</div>
          </div>
        </div>
      </div>

      <!-- POC at-a-glance -->
      <div class="card area-glance">
        <div class="section">
          <h3>POC At-a-Glance</h3>
          <table class="kv">
            <tr><td>Environment(s)</td><td>{{ENVIRONMENTS}}</td></tr>
            <tr><td>Use Case(s)</td><td>{{USE_CASES}}</td></tr>
            <tr><td>Success Criteria</td><td>{{SUCCESS_CRITERIA}}</td></tr>
            <tr><td>Stakeholders</td><td>{{STAKEHOLDERS}}</td></tr>
          </table>
        </div>
      </div>

      <!-- Top risks -->
      <div class="card area-risks">
        <div class="section">
          <h3>Top Risks (max 3)</h3>
          <table>
            <colgroup class="risks"><col><col><col><col><col><col></colgroup>
            <thead><tr><th>Risk</th><th>Sev</th><th>Mitigation</th><th>Owner</th><th>Due</th><th>Status</th></tr></thead>
            <tbody id="risks_tbody">{{RISKS_ROWS}}</tbody>
          </table>
        </div>
      </div>

      <!-- Action Items (taller column) -->
      <div class="card area-actions">
        <div class="section">
          <h3>Action Items (max 6)</h3>
          <table>
            <colgroup class="actions"><col><col><col><col></colgroup>
            <thead><tr><th>Item</th><th>Owner</th><th>Due</th><th>Status</th></tr></thead>
            <tbody id="actions_tbody">{{ACTIONS_ROWS}}</tbody>
          </table>
        </div>
      </div>

      <!-- Milestones -->
      <div class="card area-milest">
        <div class="section">
          <h3>Milestones (max 4)</h3>
          <table>
            <colgroup class="milestones"><col><col><col><col></colgroup>
            <thead><tr><th>Milestone</th><th>Target</th><th>ETA</th><th>Status</th></tr></thead>
            <tbody id="milestones_tbody">{{MILESTONES_ROWS}}</tbody>
          </table>
        </div>
      </div>

      <!-- Metrics -->
      <div class="card area-metrics">
        <div class="section">
          <h3>Metrics (max 4)</h3>
          <table>
            <colgroup class="metrics"><col><col><col><col></colgroup>
            <thead><tr><th>Metric</th><th>Value</th><th>Target</th><th>Note</th></tr></thead>
            <tbody id="metrics_tbody">{{METRICS_ROWS}}</tbody>
          </table>
        </div>
      </div>

      <!-- Decisions + Dependencies -->
      <div class="card area-decdep">
        <div class="section">
          <h3>Decisions</h3>
          <table>
            <colgroup class="decisions"><col><col></colgroup>
            <thead><tr><th>Decision</th><th>Date</th></tr></thead>
            <tbody id="decisions_tbody">{{DECISIONS_ROWS}}</tbody>
          </table>
          <div style="height:10px"></div>
          <h3>Dependencies</h3>
          <table>
            <colgroup class="deps"><col><col></colgroup>
            <thead><tr><th>Depends On</th><th>Status</th></tr></thead>
            <tbody id="dependencies_tbody">{{DEPENDENCIES_ROWS}}</tbody>
          </table>
        </div>
      </div>

      <!-- Escalations -->
      <div class="card area-escal">
        <div class="section">
          <h3>Escalations</h3>
          <table>
            <thead><tr><th>Issue</th><th>To</th></tr></thead>
            <tbody id="escalations_tbody">{{ESCALATIONS_ROWS}}</tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
